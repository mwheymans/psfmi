<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compare the fit and performance of prediction models in Multipy Imputed data — pool_compare_models • psfmi</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compare the fit and performance of prediction models in Multipy Imputed data — pool_compare_models" />
<meta property="og:description" content="pool_compare_model Compares the fit and performance of prediction models 
 in multiply imputed data sets by using clinical important performance measures" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">psfmi</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MI_boot.html">Multiple Imputation and Bootstrapping - Method MI_boot</a>
    </li>
    <li>
      <a href="../articles/MI_cv_naive.html">Multiple Imputation and Cross-validation - The MI_cv_naive method</a>
    </li>
    <li>
      <a href="../articles/boot_MI.html">Multiple Imputation and Bootstrapping - Method boot_MI</a>
    </li>
    <li>
      <a href="../articles/cv_MI.html">Multiple Imputation and Cross-validation - method cv_MI</a>
    </li>
    <li>
      <a href="../articles/cv_MI_RR.html">Multiple Imputation and Cross-validation - Method cv_MI_RR</a>
    </li>
    <li>
      <a href="../articles/development_workflow.html">Workflow to Develop and Validate a Prediction model in Multiply Imputed data</a>
    </li>
    <li>
      <a href="../articles/psfmi_CoxModels.html">Pooling and Selection of Cox Regression Models</a>
    </li>
    <li>
      <a href="../articles/psfmi_LogisticModels.html">Pooling and Selection of Logistic Regression Models</a>
    </li>
    <li>
      <a href="../articles/psfmi_StabilityAnalysis.html">Stability analysis after Multiple Imputation</a>
    </li>
    <li>
      <a href="../articles/psfmi_mice.html">Working together: mice and psfmi</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mwheymans/psfmi/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compare the fit and performance of prediction models in Multipy Imputed data</h1>
    <small class="dont-index">Source: <a href='https://github.com/mwheymans/psfmi/blob/master/R/pool_compare_models.R'><code>R/pool_compare_models.R</code></a></small>
    <div class="hidden name"><code>pool_compare_models.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>pool_compare_model</code> Compares the fit and performance of prediction models 
 in multiply imputed data sets by using clinical important performance measures</p>
    </div>

    <pre class="usage"><span class='fu'>pool_compare_models</span><span class='op'>(</span>
  <span class='va'>pobj</span>,
  compare.predictors <span class='op'>=</span> <span class='cn'>NULL</span>,
  compare.group <span class='op'>=</span> <span class='cn'>NULL</span>,
  cutoff <span class='op'>=</span> <span class='fl'>0.5</span>,
  boot_auc <span class='op'>=</span> <span class='cn'>FALSE</span>,
  nboot <span class='op'>=</span> <span class='fl'>1000</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pobj</th>
      <td><p>An object of class <code>pmods</code> (pooled models), produced by a previous
call to <code>psfmi_lr</code>.</p></td>
    </tr>
    <tr>
      <th>compare.predictors</th>
      <td><p>Character vector with the names of the predictors that are 
compared. See details.</p></td>
    </tr>
    <tr>
      <th>compare.group</th>
      <td><p>Character vector with the names of the group of predictors that are 
compared. See details.</p></td>
    </tr>
    <tr>
      <th>cutoff</th>
      <td><p>A numerical scalar. Cutoff used for the categorical NRI value. More than one
cutoff value can be used.</p></td>
    </tr>
    <tr>
      <th>boot_auc</th>
      <td><p>If TRUE the standard error of the AUC is calculated with stratified
bootstrapping. If FALSE (is default), the standard error is calculated with De Long's
method.</p></td>
    </tr>
    <tr>
      <th>nboot</th>
      <td><p>A numerical scalar. The number of bootstrap samples for the AUC standard error, used 
when boot_auc is TRUE. Default is 1000.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object from which the following objects can be extracted:</p><ul>
<li><p><code>DR_stats</code> p-value of the D3 statistic, the D3 statistic, LRT fixed is the 
  likelihood Ratio test value of the constrained models.</p></li>
<li><p><code>stats_compare</code> Mean of LogLik0, LogLik1, AIC0, AIC1, AIC_diff values of the 
  restricted (containing a 0) and full models (containing a 1).</p></li>
<li><p><code>NRI</code> pooled values for the categorical and continuous Net Reclassification
  improvement values and the Integrated Discrimination improvement.</p></li>
<li><p><code>AUC_stats</code> Pooled Area Under the Curve of restricted and full models.</p></li>
<li><p><code>AUC_diff</code> Pooled difference in AUC.</p></li>
<li><p><code>formula_test</code> regression formula of full model.</p></li>
<li><p><code>cutoff</code> Cutoff value used for reclassification values.</p></li>
<li><p><code>formula_null</code> regression formula of null model</p></li>
<li><p><code>compare_predictors</code> Predictors used in full model.</p></li>
<li><p><code>compare_group</code> group of predictors used in full model.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The fit of the models are compared by using the D3 method for pooling Likelihood ratio 
 statistics (method of Meng and Rubin). The pooled AIC difference is calculated according to
 the formula <code>AIC = D - 2*p</code>, where D is the pooled likelihood ratio tests of 
 constrained models (numerator in D3 statistic) and p is the difference in number of parameters 
 between the full and restricted models that are compared. The pooled AUC difference  
 is calculated, after the standard error is obtained in each imputed data set by method 
 DeLong or bootstrapping. The NRI categorical and continuous and IDI are calculated in each 
 imputed data set and pooled.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Eekhout I, van de Wiel MA, Heymans MW. Methods for significance testing of categorical
  covariates in logistic regression models after multiple imputation: power and applicability
  analysis. BMC Med Res Methodol. 2017;17(1):129.</p>
<p>Consentino F, Claeskens G. Order Selection tests with multiply imputed data
  Computational Statistics and Data Analysis.2010;54:2284-2295.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'> <span class='va'>pool_lr</span> <span class='op'>&lt;-</span> <span class='fu'><a href='psfmi_lr.html'>psfmi_lr</a></span><span class='op'>(</span>data<span class='op'>=</span><span class='va'>lbpmilr</span>, p.crit <span class='op'>=</span> <span class='fl'>1</span>, direction<span class='op'>=</span><span class='st'>"FW"</span>, nimp<span class='op'>=</span><span class='fl'>10</span>, impvar<span class='op'>=</span><span class='st'>"Impnr"</span>, 
 Outcome<span class='op'>=</span><span class='st'>"Chronic"</span>, predictors<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Radiation"</span><span class='op'>)</span>, cat.predictors <span class='op'>=</span> <span class='op'>(</span><span class='st'>"Satisfaction"</span><span class='op'>)</span>,
 int.predictors <span class='op'>=</span> <span class='cn'>NULL</span>, spline.predictors<span class='op'>=</span><span class='st'>"Tampascale"</span>, nknots<span class='op'>=</span><span class='fl'>3</span>, method<span class='op'>=</span><span class='st'>"D1"</span><span class='op'>)</span>

 <span class='va'>res_compare</span> <span class='op'>&lt;-</span> <span class='fu'>pool_compare_models</span><span class='op'>(</span><span class='va'>pool_lr</span>, compare.predictors <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Pain"</span>, <span class='st'>"Duration"</span>, 
 <span class='st'>"Function"</span><span class='op'>)</span>, cutoff <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span>
 <span class='va'>res_compare</span>
</div><div class='output co'>#&gt; $D3_stats
#&gt;          p-values D3 statistic LRT fixed
#&gt; Pain      0.00925      7.85968  13.20684
#&gt; Duration  0.90667      0.01375   0.01434
#&gt; Function  0.05494      3.76136   4.55739
#&gt; 
#&gt; $stats_compare
#&gt;           LogLik0  Loglik1     AIC0     AIC1  AIC_diff
#&gt; Pain     146.1053 132.3418 158.1053 146.3418 11.206842
#&gt; Duration 146.1053 146.0558 158.1053 160.0558 -1.985660
#&gt; Function 146.1053 141.3747 158.1053 155.3747  2.557387
#&gt; 
#&gt; $NRI
#&gt; $NRI$Pain
#&gt;              NRI      SE 95% CI LO 95% CI UP
#&gt; NRI_cat  0.05536 0.06686  -0.07846   0.18919
#&gt; NRI_ev   0.04203 0.04661  -0.05024   0.13429
#&gt; NRI_ne   0.01333 0.04399  -0.07496   0.10163
#&gt; NRI_cont 0.61237 0.17957   0.25664   0.96810
#&gt; IDI      0.07144 0.02911   0.01250   0.13038
#&gt; 
#&gt; $NRI$Duration
#&gt;              NRI      SE 95% CI LO 95% CI UP
#&gt; NRI_cat  0.00111 0.01854  -0.03731   0.03953
#&gt; NRI_ev   0.00000 0.00963  -0.01969   0.01969
#&gt; NRI_ne   0.00111 0.01921  -0.03982   0.04204
#&gt; NRI_cont 0.07961 0.15268  -0.21988   0.37910
#&gt; IDI      0.00029 0.00135  -0.00235   0.00293
#&gt; 
#&gt; $NRI$Function
#&gt;              NRI      SE 95% CI LO 95% CI UP
#&gt; NRI_cat  0.03957 0.05027  -0.05995   0.13908
#&gt; NRI_ev   0.03623 0.03757  -0.03791   0.11038
#&gt; NRI_ne   0.00333 0.03595  -0.06886   0.07553
#&gt; NRI_cont 0.39720 0.17485   0.05265   0.74174
#&gt; IDI      0.02122 0.01315  -0.00462   0.04706
#&gt; 
#&gt; 
#&gt; $cutoff
#&gt; [1] 0.4
#&gt; 
#&gt; $AUC
#&gt; $AUC$Pain
#&gt;        95% Low    AUC 95% Up
#&gt; AUC M0  0.7863 0.8567 0.9067
#&gt; AUC M1  0.8196 0.8865 0.9307
#&gt; 
#&gt; $AUC$Duration
#&gt;        95% Low    AUC 95% Up
#&gt; AUC M0  0.7863 0.8567 0.9067
#&gt; AUC M1  0.7872 0.8577 0.9077
#&gt; 
#&gt; $AUC$Function
#&gt;        95% Low    AUC 95% Up
#&gt; AUC M0  0.7863 0.8567 0.9067
#&gt; AUC M1  0.7978 0.8648 0.9120
#&gt; 
#&gt; 
#&gt; $AUC_diff
#&gt; $AUC_diff$Pain
#&gt;                 AUC     SE 95% CI LO 95% CI HI
#&gt; Diff DeLong 0.02974 0.0185  -0.00668   0.06616
#&gt; 
#&gt; $AUC_diff$Duration
#&gt;                 AUC      SE 95% CI LO 95% CI HI
#&gt; Diff DeLong 0.00103 0.00257  -0.00408   0.00614
#&gt; 
#&gt; $AUC_diff$Function
#&gt;                 AUC      SE 95% CI LO 95% CI HI
#&gt; Diff DeLong 0.00819 0.01105  -0.01351   0.02989
#&gt; 
#&gt; 
#&gt; $formula_test
#&gt; $formula_test$`Test -  Pain`
#&gt; [1] "Chronic ~ Radiation + factor(Satisfaction) + rcs(Tampascale, 3) + Pain"
#&gt; 
#&gt; $formula_test$`Test -  Duration`
#&gt; [1] "Chronic ~ Radiation + factor(Satisfaction) + rcs(Tampascale, 3) + Duration"
#&gt; 
#&gt; $formula_test$`Test -  Function`
#&gt; [1] "Chronic ~ Radiation + factor(Satisfaction) + rcs(Tampascale, 3) + Function"
#&gt; 
#&gt; 
#&gt; $null_model
#&gt; Chronic ~ Radiation + factor(Satisfaction) + rcs(Tampascale, 
#&gt;     3)
#&gt; &lt;environment: 0x7ff869833ee8&gt;
#&gt; 
#&gt; $compare_predictors
#&gt; [1] "Pain"     "Duration" "Function"
#&gt; 
#&gt; $compare_group
#&gt; NULL
#&gt; </div><div class='input'>
 
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martijn Heymans.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


